# Exercise 01 - Mr_clean

|                         |                    |
| -----------------------:| ------------------ |
|   Turnin directory :    |  ex01              |
|   Files to turn in :    |  mr_clean.py       |
|   Forbidden function :  |  None              |
|   Remarks :             |  n/a               |


**Objective:**

You must clean the given csv dataset in order to insert it into a postgreSQL table.

**Instructions:**

You first need to download the appstore_games data [here](https://www.kaggle.com/tristan581/17k-apple-app-store-strategy-games/download).

We are going to keep the following columns: "ID", "Name", "Average User Rating", "User Rating Count", "Price", "Description", "Developer", "Age Rating", "Languages", "Size", "Primary Genre", "Genres", "Original Release Date", "Current Version Release Date".

You need to implement the function `df_nan_filter`. It takes a pandas dataframe as input and applies the following replacement for NaN values :
* remove the row if `Size` if NaN
* set `Languages` as "EN" if NaN
* set `Price` as 0.0 if NaN
* set `Average User Rating` as median of the column if NaN
* set `User Rating Count` as 1 if NaN

```python
def df_nan_filter(df):
    """Apply filters on NaN values 
    Args:
      df: pandas dataframe.
    Returns:
      Filtered Dataframe.
    Raises:
      This function shouldn't raise any Exception.
    """
```

Then you need to apply the following function to every column of your dataset (using a for loop).

```python
import ast

def string_filter(s: str):
    """Apply filters in order to clean the string.
    Args:
      s: string.
    Returns:
      Filtered String.
    Raises:
      This function shouldn't raise any Exception.
    """
    s = ast.literal_eval("b'''%s'''" % s)
    s = s.decode('raw_unicode_escape').encode('ascii', 'ignore')
    s = re.sub('[\t\n\r\v\f]', ' ', s.decode())
    s = re.sub(' +', ' ', s)
    s = s.strip('"')
    return (s)
```

You must apply this two functions in order to create the file `filtered_appstore_games.csv`.

**Examples**

The following example does not show the true dataset and values obtained after the filters.
```python
>>> df = pd.read_csv("appstore_games.csv")
>>> df.head(1)
       Average User Rating  User Rating Count  Price Languages
1                  NaN                NaN    NaN        NaN
>>> df = nan_filter(df)
>>> df.head(1)
       Average User Rating  User Rating Count  Price Languages
1                  3.6                1    0.0        EN
```